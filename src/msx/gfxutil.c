#include "gfxutil.h"
#include <stdint.h>

#define CHAR_ADDR 0x1800
#define ROW(y) y<<5

const unsigned char row_pattern[256] =
{
  0xF1,0xF1,0xF1,0xF1,0xF1,0xF1,0xF1,0xF1,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,0xF5,0xF4,
  0xF1,0xF1,0xF1,0xF1,0xF1,0xF1,0xF1,0xF1,
};

const unsigned char udg[] =
{
  0,0,0,0,0,0,3,51,                               // WIFI 1
  0,0,3,3,51,51,51,51,                            // WIFI 2
  48,48,48,48,48,48,48,48,                        // WIFI 3
  0x00,0x07,0x08,0x0F,0x0F,0x0F,0x0F,0x00,        // FOLDER 1 0x83
  0x00,0x80,0x70,0xF0,0xF0,0xF0,0xF0,0x00,        // FOLDER 2 0x84
  0x0F,0x08,0x08,0x0A,0x08,0x08,0x0F,0x00,        // DDP 1    0x85
  0xF0,0x10,0x10,0x50,0x10,0x10,0xF0,0x00,        // DDP 2    0x86
  0x0F,0x08,0x08,0x08,0x0A,0x08,0x0F,0x00,        // DSK 1    0x87
  // 0xF0,0x10,0xD0,0xD0,0xD0,0x10,0xF0,0x00,        // DSK 2    0x88
	0x00,0x7C,0x4A,0x42,0x7E,0x7E,0x7E,0x00,        // DSK 2    0x88
	0x00,0x00,0x5A,0x42,0x7E,0x7E,0x00,0x00,        // ROM 1    0x89
 	0x00,0x00,0x7E,0x42,0x5A,0x66,0x00,0x00,        // Cassette 0x8A
  // 0x0F,0x08,0x0B,0x0B,0x0B,0x08,0x0F,0x00,        // ROM 1    0x89
  // 0xF0,0x10,0xD0,0xD0,0xD0,0x10,0xF0,0x00,        // ROM 2    0x8a
 	// 0x00,0x00,0xFE,0xEE,0xEE,0xEE,0xFE,0x00,        // ROM 1    0x89
  // 0x00,0x7E,0x5A,0x5A,0x42,0x7E,0x00,0x00,        // ROM 1    0x89
	// 0x00,0x00,0xFE,0xD6,0xD6,0xD6,0xFE,0x00,        // ROM 2    0x8a
  0xAA,0x55,0xAA,0x55,0xAA,0x55,0xAA,0x55,  // Password smudge 0x8b
  0x00,0x70,0x4c,0x64,0x44,0x44,0x0e,0x00,        // F1       0x8c
  0x00,0x70,0x4c,0x62,0x44,0x48,0x0e,0x00,        // F2       0x8d
  0x00,0x70,0x4c,0x62,0x44,0x42,0x0c,0x00,        // F3       0x8e
  0x00,0x70,0x4a,0x6a,0x4e,0x42,0x02,0x00,        // F4       0x8f
  0x00,0x70,0x4e,0x68,0x4e,0x42,0x0c,0x00,        // F5       0x90
 	// 0xFC,0xF8,0xF0,0xF0,0xF0,0xF0,0xF8,0xFC,        // Left pill cap 0x91
  0x03,0x07,0x0F,0x0F,0x0F,0x0F,0x07,0x03,
	// 0x3F,0x1F,0x0F,0x0F,0x0F,0x0F,0x1F,0x3F,        // Right pill cap 0x92
	0xC0,0xE0,0xF0,0xF0,0xF0,0xF0,0xE0,0xC0,

	0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x03,        // Box UL   0x93
	0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,        // Box U    0x94
	0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xC0,        // Box UR   0x95
	0x03,0x03,0x03,0x03,0x03,0x03,0x03,0x03,        // Box L    0x96
	0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,        // Box R    0x97
	0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x00,        // Box BL   0x98
	0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,        // Box B    0x99
	0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,        // Box BR   0x9A
	// 0x01,0x03,0x03,0x03,0x03,0x07,0xFF,0xFF,        // Tab L    0x9B
	// 0x03,0x07,0x07,0x07,0x07,0x0F,0xFF,0xFF,
	0x0F,0x1F,0x1F,0x1F,0x1F,0x3F,0xFF,0xFF,
	0x80,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,        // Tab R    0x9C

  // 0x00,0x70,0x46,0x68,0x4e,0x4a,0x06,0x00,        // F6       0x91
  // 0x00,0x70,0x4e,0x62,0x44,0x48,0x08,0x00,        // F7       0x92
  // 0x00,0x70,0x4e,0x6a,0x44,0x4a,0x0e,0x00,        // F8       0x93
  // 0x00,0x70,0x4c,0x6a,0x4e,0x42,0x0c,0x00,        // F9       0x94
  // 0x00,0xe0,0x97,0xd5,0x95,0x95,0x17,0x00,        // F10       0x95
  // 0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,        // Underline 0x96
};

const unsigned char blank[8] =
  {0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00};

const unsigned char pill_left[8] =
  {0x03,0x07,0x0F,0x0F,0x0F,0x0F,0x07,0x03};

const unsigned char pill_right[8] =
  {0xC0,0xE0,0xF0,0xF0,0xF0,0xF0,0xE0,0xC0};

void gfx_putcxy(char c, uint8_t x, uint8_t y)
{
  // TODO: Make this actually work
  uint16_t addr = CHAR_ADDR + ROW(y) + x;
  vdp_vpoke(addr, c);
}

void gfx_putsxy(char *s, uint8_t x, uint8_t y)
{
  // TODO: Make this actually work
  char c;
  uint16_t addr = CHAR_ADDR + (y<<5) + x;
  while ((c = *s++) != '\0')
    vdp_vpoke(addr++, c);
}
